<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ventas</title>
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="app.css">
    <script src="control-acceso.js"></script>
    <script src="ventas.js"></script>
</head>
<body>
<header>
    <nav>
        <a href="index.html">Inicio</a>
        <a href="usuarios.html" class="current">Usuarios</a>
    </nav>
    <div id="welcome">Bienvenido: <span id="user-name"></span>
        <button onclick="logout()">Logout</button>
    </div>
</header>

<section>
    <header>
        <h1>Ventas</h1>
    </header>

    <table>
        <colgroup>
            <col>
            <col>
            <col>
            <col>
            <col class="buttons">
            <col class="buttons">
        </colgroup>
        <thead>
        <tr>
            <th>Vendedor</th>
            <th>Cliente</th>
            <th>Fecha</th>
            <th>Importe</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>Vendedor</td>
            <td>Cliente</td>
            <td>Fecha</td>
            <td>Importe</td>
            <td><button>Editar</button></td>
            <td><button class="danger">Eliminar</button></td>
        </tr>
        </tbody>
    </table>

    <div>
        <select id="paginador"></select>
    </div>
</section>

<script>
    const ventas = new VentasModel(15);

    window.init = async () => {

        const p = await ventas.getPaginas();
        //console.log(p);
        const paginador = document.getElementById('paginador');
        for (let i = 1; i <= p.paginas; i++) {
            const opt = document.createElement('option');
            opt.value = i;
            opt.innerText = i;
            paginador.appendChild(opt);
        }
        paginador.addEventListener('change', () => {
            cargarPagina(paginador.value);
        })

        const v = await ventas.getVentas();
        console.log(v);
    }


    function cargarPagina(pagina) {
        console.log(pagina);
    }
</script>

</body>
</html>